[{"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/store/constants.js":"1","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/SongsList/style.js":"2","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/index.js":"3","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/MiniPlayer/index.js":"4","/Users/fangrui360.cn/Documents/mine/cloud-music/src/api/utils.js":"5","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/NormalPlayer/index.js":"6","/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/ProgressBar/index.js":"7","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/store/reducer.js":"8","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/SongsList/index.js":"9","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Album/index.js":"10","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singer/index.js":"11","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Recommend/style.js":"12","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Recommend/index.js":"13","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/index.js":"14","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/style.js":"15","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Rank/index.js":"16","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Rank/style.js":"17","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Album/style.js":"18","/Users/fangrui360.cn/Documents/mine/cloud-music/src/routes/index.js":"19","/Users/fangrui360.cn/Documents/mine/cloud-music/src/store/index.js":"20","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singer/store/index.js":"21","/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/Scroll/index.js":"22","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singer/store/reducer.js":"23","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/constant.js":"24","/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/ProgressCircle/index.js":"25","/Users/fangrui360.cn/Documents/mine/cloud-music/src/assets/iconfont/iconfont.js":"26","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Home/index.js":"27","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Rank/store/actionCreators.js":"28","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Home/style.js":"29","/Users/fangrui360.cn/Documents/mine/cloud-music/src/components/RecommendList/index.js":"30","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Rank/store/constants.js":"31","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Album/store/reducer.js":"32","/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/LoadingV2/index.js":"33","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singer/style.js":"34","/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/MusicNote/index.js":"35","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Album/store/actionCreators.js":"36","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Recommend/store/constants.js":"37","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/store/actionCreators.js":"38","/Users/fangrui360.cn/Documents/mine/cloud-music/src/api/config.js":"39","/Users/fangrui360.cn/Documents/mine/cloud-music/src/index.js":"40","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singer/store/actionCreators.js":"41","/Users/fangrui360.cn/Documents/mine/cloud-music/src/api/request.js":"42","/Users/fangrui360.cn/Documents/mine/cloud-music/src/components/RecommendList/style.js":"43","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/constant.js":"44","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singer/store/constants.js":"45","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/store/reducer.js":"46","/Users/fangrui360.cn/Documents/mine/cloud-music/src/App.js":"47","/Users/fangrui360.cn/Documents/mine/cloud-music/src/assets/global-style.js":"48","/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/Toast/index.js":"49","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/store/actionCreators.js":"50","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/store/constants.js":"51","/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/Header/index.js":"52","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/store/index.js":"53","/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/Loading/index.js":"54","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Rank/store/reducer.js":"55","/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/HorizenItem/index.js":"56","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Album/store/index.js":"57","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Recommend/store/reducer.js":"58","/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/MiniPlayer/style.js":"59"},{"size":461,"mtime":1613187072085,"results":"60","hashOfConfig":"61"},{"size":2320,"mtime":1613228255555,"results":"62","hashOfConfig":"61"},{"size":6521,"mtime":1613268441678,"results":"63","hashOfConfig":"61"},{"size":1731,"mtime":1613201053075,"results":"64","hashOfConfig":"61"},{"size":2665,"mtime":1613209245112,"results":"65","hashOfConfig":"61"},{"size":5862,"mtime":1613209550599,"results":"66","hashOfConfig":"61"},{"size":3696,"mtime":1613226795399,"results":"67","hashOfConfig":"61"},{"size":1433,"mtime":1613208876727,"results":"68","hashOfConfig":"61"},{"size":2293,"mtime":1613227857011,"results":"69","hashOfConfig":"61"},{"size":4552,"mtime":1613229282950,"results":"70","hashOfConfig":"61"},{"size":4615,"mtime":1613228671776,"results":"71","hashOfConfig":"61"},{"size":173,"mtime":1613228537125,"results":"72","hashOfConfig":"61"},{"size":1477,"mtime":1613228539261,"results":"73","hashOfConfig":"61"},{"size":4461,"mtime":1613228856606,"results":"74","hashOfConfig":"61"},{"size":1105,"mtime":1613228867052,"results":"75","hashOfConfig":"61"},{"size":2670,"mtime":1613228944917,"results":"76","hashOfConfig":"61"},{"size":1965,"mtime":1613228960409,"results":"77","hashOfConfig":"61"},{"size":5383,"mtime":1613229276543,"results":"78","hashOfConfig":"61"},{"size":1872,"mtime":1613269325782,"results":"79","hashOfConfig":"61"},{"size":309,"mtime":1612144575503,"results":"80","hashOfConfig":"61"},{"size":118,"mtime":1612410204554,"results":"81","hashOfConfig":"61"},{"size":4751,"mtime":1612231611306,"results":"82","hashOfConfig":"61"},{"size":563,"mtime":1612410281734,"results":"83","hashOfConfig":"61"},{"size":65,"mtime":1613187072084,"results":"84","hashOfConfig":"61"},{"size":1201,"mtime":1613187072086,"results":"85","hashOfConfig":"61"},{"size":7589,"mtime":1612144575499,"results":"86","hashOfConfig":"61"},{"size":1043,"mtime":1613187072082,"results":"87","hashOfConfig":"61"},{"size":591,"mtime":1612236973832,"results":"88","hashOfConfig":"61"},{"size":921,"mtime":1612144575496,"results":"89","hashOfConfig":"61"},{"size":1447,"mtime":1612247171049,"results":"90","hashOfConfig":"61"},{"size":107,"mtime":1612233615479,"results":"91","hashOfConfig":"61"},{"size":470,"mtime":1612323864881,"results":"92","hashOfConfig":"61"},{"size":1010,"mtime":1612173249520,"results":"93","hashOfConfig":"61"},{"size":2026,"mtime":1612409393510,"results":"94","hashOfConfig":"61"},{"size":2743,"mtime":1613227889431,"results":"95","hashOfConfig":"61"},{"size":599,"mtime":1612323915644,"results":"96","hashOfConfig":"61"},{"size":189,"mtime":1612144575497,"results":"97","hashOfConfig":"61"},{"size":881,"mtime":1613187072085,"results":"98","hashOfConfig":"61"},{"size":314,"mtime":1613272029138,"results":"99","hashOfConfig":"61"},{"size":142,"mtime":1612248624496,"results":"100","hashOfConfig":"61"},{"size":621,"mtime":1612410629157,"results":"101","hashOfConfig":"61"},{"size":835,"mtime":1612409993762,"results":"102","hashOfConfig":"61"},{"size":1335,"mtime":1612144575502,"results":"103","hashOfConfig":"61"},{"size":2178,"mtime":1612165667122,"results":"104","hashOfConfig":"61"},{"size":187,"mtime":1612410245040,"results":"105","hashOfConfig":"61"},{"size":949,"mtime":1612172594123,"results":"106","hashOfConfig":"61"},{"size":605,"mtime":1612144575494,"results":"107","hashOfConfig":"61"},{"size":887,"mtime":1611910017939,"results":"108","hashOfConfig":"61"},{"size":1554,"mtime":1613209716588,"results":"109","hashOfConfig":"61"},{"size":2532,"mtime":1612231954795,"results":"110","hashOfConfig":"61"},{"size":304,"mtime":1612161004609,"results":"111","hashOfConfig":"61"},{"size":1476,"mtime":1612321197649,"results":"112","hashOfConfig":"61"},{"size":118,"mtime":1612160847171,"results":"113","hashOfConfig":"61"},{"size":851,"mtime":1612173630116,"results":"114","hashOfConfig":"61"},{"size":441,"mtime":1612233646652,"results":"115","hashOfConfig":"61"},{"size":1491,"mtime":1612165675239,"results":"116","hashOfConfig":"61"},{"size":118,"mtime":1612323801156,"results":"117","hashOfConfig":"61"},{"size":645,"mtime":1612144575498,"results":"118","hashOfConfig":"61"},{"size":1776,"mtime":1613187072083,"results":"119","hashOfConfig":"61"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"rn31g1",{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127","usedDeprecatedRules":"128"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"133"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"156"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"133"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"167"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"170"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"128"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"177","messages":"178","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"181"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"170"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"181"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"190","messages":"191","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"181"},{"filePath":"192","messages":"193","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"194","messages":"195","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"181"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"198"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"181"},{"filePath":"203","messages":"204","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"205","messages":"206","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"207","messages":"208","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"209","messages":"210","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"212","messages":"213","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"214","messages":"215","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"216","messages":"217","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"133"},{"filePath":"218","messages":"219","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"220","messages":"221","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"198"},{"filePath":"222","messages":"223","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"224","messages":"225","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"226"},{"filePath":"227","messages":"228","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"128"},{"filePath":"229","messages":"230","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"231","messages":"232","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"181"},{"filePath":"233","messages":"234","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"198"},{"filePath":"235","messages":"236","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"198"},{"filePath":"237","messages":"238","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"239","messages":"240","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"181"},{"filePath":"241","messages":"242","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"243","messages":"244","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"245","messages":"246","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"247","messages":"248","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"249","messages":"250","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/store/constants.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/SongsList/style.js",[],[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/index.js",["251","252"],"import React, { useRef, useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport {\n  changePlayingState,\n  changeShowPlayList,\n  changeCurrentIndex,\n  changeCurrentSong,\n  changePlayList,\n  changePlayMode,\n  changeFullScreen\n} from './store/actionCreators'\nimport MiniPlayer from './MiniPlayer'\nimport NormalPlayer from './NormalPlayer'\nimport Toast from '@/baseUI/Toast'\nimport { getSongUrl, isEmptyObject, findIndex, shuffle } from '@/api/utils'\nimport { playMode } from './constant'\n\nfunction Player(props) {\n  // 目前播放时间\n  const [currentTime, setCurrentTime] = useState(0)\n  // 歌曲总时长\n  const [duration, setDuration] = useState(0)\n  // 歌曲播放进度\n  let percent = isNaN(currentTime / duration) ? 0 : currentTime / duration\n  // 记录当前的歌曲，以便于下次重渲染时比对是否是一首歌\n  const [preSong, setPreSong] = useState({})\n  const [modeText, setModeText] = useState(\"\")\n  const songReady = useRef(true)\n\n  // 绑定ref\n  const audioRef = useRef()\n  const toastRef = useRef()\n\n  const fullScreen = useSelector(state => state.player.fullScreen)\n  const playing = useSelector(state => state.player.playing)\n  const currentSong = useSelector(state => state.player.currentSong)\n  const showPlayList = useSelector(state => state.player.showPlayList)\n  const mode = useSelector(state => state.player.mode)\n  const currentIndex = useSelector(state => state.player.currentIndex)\n  const playList = useSelector(state => state.player.playList)\n  const sequencePlayList = useSelector(state => state.player.sequencePlayList)\n\n  const dispatch = useDispatch()\n\n  const togglePlayingDispatch = (data) => {\n    dispatch(changePlayingState(data))\n  }\n  const toggleFullScreenDispatch = (data) => {\n    dispatch(changeFullScreen(data))\n  }\n  const togglePlayListDispatch = (data) => {\n    dispatch(changeShowPlayList(data))\n  }\n  const changeCurrentIndexDispatch = (index) => {\n    dispatch(changeCurrentIndex(index))\n  }\n  const changeCurrentDispatch = (data) => {\n    dispatch(changeCurrentSong(data))\n  }\n  const changeModeDispatch = (data) => {\n    dispatch(changePlayMode(data))\n  }\n  const changePlayListDispatch = (data) => {\n    dispatch(changePlayList(data))\n  }\n\n  const clickPlaying = (e, state) => {\n    e.stopPropagation()\n    togglePlayingDispatch(state)\n  }\n\n  const updateTime = e => {\n    setCurrentTime(e.target.currentTime)\n  }\n\n  const onProgressChange = curPercent => {\n    const newTime = curPercent * duration\n    setCurrentTime(newTime)\n    audioRef.current.currentTime = newTime\n    if (!playing) {\n      togglePlayingDispatch(true)\n    }\n  }\n\n  // 一首歌循环\n  const handleLoop = () => {\n    audioRef.current.currentTime = 0\n    changePlayingState(true)\n    audioRef.current.play()\n  }\n\n  const handlePrev = () => {\n    // 播放列表只有一首歌时单曲循环\n    if (playList.length === 1) {\n      handleLoop()\n      return\n    }\n    let index = currentIndex - 1\n    if (index < 0) index = playList.length - 1\n    if (!playing) togglePlayingDispatch(true)\n    changeCurrentIndexDispatch(index)\n  }\n\n  const handleNext = () => {\n    // 播放列表只有一首歌时单曲循环\n    if (playList.length === 1) {\n      handleLoop()\n      return\n    }\n    let index = currentIndex + 1\n    if (index === playList.length) index = 0\n    if (!playing) togglePlayingDispatch(true)\n    changeCurrentIndexDispatch(index)\n  }\n\n  const handleEnd = () => {\n    if (mode === playMode.loop) {\n      handleLoop()\n    } else {\n      handleNext()\n    }\n  }\n\n  const changeMode = () => {\n    let newMode = (mode + 1) % 3\n    if (newMode === 0) {\n      // 顺序模式\n      changePlayListDispatch(sequencePlayList)\n      let index = findIndex(currentSong, sequencePlayList)\n      changeCurrentIndexDispatch(index)\n      setModeText(\"顺序循环\")\n    } else if (newMode === 1) {\n      // 单曲循环\n      changePlayListDispatch(sequencePlayList)\n      setModeText(\"单曲循环\")\n    } else if (newMode === 2) {\n      // 随机播放\n      let newList = shuffle(sequencePlayList)\n      let index = findIndex(currentSong, newList)\n      changePlayListDispatch(newList)\n      changeCurrentIndexDispatch(index)\n      setModeText(\"随机播放\")\n    }\n    changeModeDispatch(newMode)\n    toastRef.current.show()\n  }\n\n  const handleError = () => {\n    songReady.current = true\n    alert(\"播放出错\")\n  }\n\n  useEffect(() => {\n    if (\n      !playList.length ||\n      currentIndex === -1 ||\n      !playList[currentIndex] ||\n      playList[currentIndex].id === preSong.id ||\n      !songReady.current // 标志位为 false\n    )\n      return\n    let current = playList[currentIndex]\n    songReady.current = false // 把标志位置为 false, 表示现在新的资源没有缓冲完成，不能切歌\n    changeCurrentDispatch(current) // 赋值currentSong\n    setPreSong(current)\n    audioRef.current.src = getSongUrl(current.id)\n    setTimeout(() => {\n      // 注意，play 方法返回的是一个 promise 对象\n      audioRef.current.play().then (() => {\n        songReady.current = true\n      })\n    })\n    togglePlayingDispatch(true) // 播放状态\n    setCurrentTime(0) // 从头开始播放\n    setDuration((current.dt / 1000) | 0) // 时长\n  }, [playList, currentIndex])\n\n  useEffect(() => {\n    playing ? audioRef.current.play() : audioRef.current.pause()\n  }, [playing])\n\n  return (\n    <div>\n      {\n        isEmptyObject(currentSong) ? null : \n        <MiniPlayer\n          song={currentSong}\n          fullScreen={fullScreen}\n          playing={playing}\n          toggleFullScreen={toggleFullScreenDispatch}\n          clickPlaying={clickPlaying}\n          percent={percent}\n        /> \n      }\n      {\n        isEmptyObject(currentSong) ? null : \n        <NormalPlayer\n          song={currentSong}\n          fullScreen={fullScreen}\n          playing={playing}\n          duration={duration} // 总时长\n          currentTime={currentTime} // 播放时间\n          percent={percent} // 进度\n          toggleFullScreen={toggleFullScreenDispatch}\n          clickPlaying={clickPlaying}\n          onProgressChange={onProgressChange}\n          handlePrev={handlePrev}\n          handleNext={handleNext}\n          mode={mode}\n          changeMode={changeMode}\n        />\n      }\n      <audio\n        ref={audioRef}\n        onTimeUpdate={updateTime}\n        onEnded={handleEnd}\n        onError={handleError}\n      />\n      <Toast text={modeText} ref={toastRef} />\n    </div>\n  )\n}\n\nexport default React.memo(Player)",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/MiniPlayer/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/api/utils.js",[],[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/NormalPlayer/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/ProgressBar/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/store/reducer.js",[],[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/SongsList/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Album/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singer/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Recommend/style.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Recommend/index.js",[],[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/style.js",[],[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Rank/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Rank/style.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Album/style.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/routes/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/store/index.js",[],[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singer/store/index.js",[],[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/Scroll/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singer/store/reducer.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/constant.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/ProgressCircle/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/assets/iconfont/iconfont.js",[],[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Home/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Rank/store/actionCreators.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Home/style.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/components/RecommendList/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Rank/store/constants.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Album/store/reducer.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/LoadingV2/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singer/style.js",[],[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/MusicNote/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Album/store/actionCreators.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Recommend/store/constants.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/store/actionCreators.js",["253","254"],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/api/config.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/index.js",[],[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singer/store/actionCreators.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/api/request.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/components/RecommendList/style.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/constant.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singer/store/constants.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/store/reducer.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/App.js",[],[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/assets/global-style.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/Toast/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/store/actionCreators.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/store/constants.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/Header/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Singers/store/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/Loading/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Rank/store/reducer.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/baseUI/HorizenItem/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Album/store/index.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Recommend/store/reducer.js",[],"/Users/fangrui360.cn/Documents/mine/cloud-music/src/application/Player/MiniPlayer/style.js",[],{"ruleId":"255","severity":1,"message":"256","line":37,"column":9,"nodeType":"257","messageId":"258","endLine":37,"endColumn":21},{"ruleId":"255","severity":1,"message":"259","line":51,"column":9,"nodeType":"257","messageId":"258","endLine":51,"endColumn":31},{"ruleId":"255","severity":1,"message":"260","line":9,"column":3,"nodeType":"257","messageId":"258","endLine":9,"endColumn":14},{"ruleId":"255","severity":1,"message":"261","line":10,"column":3,"nodeType":"257","messageId":"258","endLine":10,"endColumn":14},"no-unused-vars","'showPlayList' is assigned a value but never used.","Identifier","unusedVar","'togglePlayListDispatch' is assigned a value but never used.","'DELETE_SONG' is defined but never used.","'INSERT_SONG' is defined but never used."]